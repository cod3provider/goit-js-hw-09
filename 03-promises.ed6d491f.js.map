{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEgBC,SAASC,cAAc,SAC/BC,iBAAiB,UASzB,SAAuBC,GACrBA,EAAIC,iBAaJ,IAXA,IAAMC,EAAO,CACXC,SAAUC,OAAOP,SAASC,cAAc,uBAAuBO,OAC/DC,QAASF,OAAOP,SAASC,cAAc,sBAAsBO,OAC7DE,UAAWH,OAAOP,SAASC,cAAc,wBAAwBO,QAG7DF,EAGAD,EAHAC,SACAG,EAEAJ,EAFAI,QACAC,EACAL,EADAK,UAGGC,EAAI,EAAGA,GAAKD,EAAWC,GAAK,EACnCC,EAAcD,EAAGL,GAChBO,MAAK,SAAAC,G,IAAGC,EAAQD,EAARC,SAAUC,EAAKF,EAALE,MACjBlB,EAAAmB,OAAOC,QAAQ,uBAAwCC,OAAfJ,EAAS,QAAYI,OAANH,EAAM,MAAKI,MACjEC,OAAI,SAAAP,G,IAAGC,EAAQD,EAARC,SAAUC,EAAKF,EAALE,MAClBlB,EAAAmB,OAAOK,QAAQ,sBAAqCH,OAAfJ,EAAS,QAAYI,OAANH,EAAM,MAAKI,MACjEd,GAAYG,EAEdN,EAAIoB,cAAcC,WA7BpB,IAAMJ,EAAkB,CACtBL,SAAU,YACVU,cAAc,EACdC,QAAS,IACTC,kBAAmB,QA4BrB,SAASf,EAAcG,EAAUC,GAC/B,OAAO,IAAIY,SAAQ,SAACC,EAASC,GAC3B,IAAMC,EAAgBC,KAAKC,SAAW,GACpCC,YAAW,WACLH,EACFF,EAAQ,CAAEd,WAAUC,UAEpBc,EAAO,CAAEf,WAAUC,YAEpBA,O","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst formRef = document.querySelector('.form');\nformRef.addEventListener('submit', onSubmitForm);\n\nconst notiflixOptions = {\n  position: 'right-top',\n  clickToClose: true,\n  timeout: 3000,\n  cssAnimationStyle: 'zoom',\n}\n\nfunction onSubmitForm (evt) {\n  evt.preventDefault();\n\n  const refs = {\n    delayRef: Number(document.querySelector('input[name=\"delay\"]').value),\n    stepRef: Number(document.querySelector('input[name=\"step\"]').value),\n    amountRef: Number(document.querySelector('input[name=\"amount\"]').value),\n  }\n\n  let { delayRef,\n        stepRef,\n        amountRef\n    } = refs;\n\n  for (let i = 1; i <= amountRef; i += 1) {\n    createPromise(i, delayRef)\n    .then(({ position, delay}) => {\n      Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`, notiflixOptions)})\n    .catch(({ position, delay}) => {\n      Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`, notiflixOptions)});\n    delayRef += stepRef;\n  }\n  evt.currentTarget.reset();\n}\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n      setTimeout(() => {\n        if (shouldResolve) {\n          resolve({ position, delay });\n        } else {\n          reject({ position, delay });\n        }\n      }, delay);\n  });\n}\n\n"],"names":["$h6c0i","parcelRequire","document","querySelector","addEventListener","evt","preventDefault","refs","delayRef","Number","value","stepRef","amountRef","i","$ce04d3a99e08e73b$var$createPromise","then","param","position","delay","Notify","success","concat","$ce04d3a99e08e73b$var$notiflixOptions","catch","failure","currentTarget","reset","clickToClose","timeout","cssAnimationStyle","Promise","resolve","reject","shouldResolve","Math","random","setTimeout"],"version":3,"file":"03-promises.ed6d491f.js.map"}